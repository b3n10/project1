"use strict";var txt_body=document.getElementsByClassName("div_text")[0],ptext=document.getElementById("ptext"),pauthor=document.getElementById("pauthor"),shareText=ptext.innerText,shareAuthor=pauthor.innerText,next=document.getElementsByClassName("next")[0],shareFB=document.getElementsByClassName("sharefb")[0],shareTW=document.getElementsByClassName("sharetw")[0],delay=100,baseURL=window.location.href.indexOf("?")?window.location.href.substr(0,window.location.href.indexOf("?")):window.location.href,shareURL=window.location.href,notification=document.getElementsByClassName("notification")[0];notification&&setTimeout(function(){notification.style.opacity=0,setTimeout(function(){notification.innerText=""},2500)},1e3),next.addEventListener("click",function(){(txt_body.style.left="-565px")===txt_body.style.left&&setTimeout(function(){txt_body.style.display="none",setTimeout(function(){txt_body.style.left="565px",txt_body.style.display="block";var e=new XMLHttpRequest;e.open("GET","./resources/getRandom.php",!0),e.onprogress=function(){},e.onload=function(){if(200===e.status){txt_body.style.left="0px";var t=JSON.parse(e.responseText);ptext.innerText=t.text,pauthor.innerText=t.author,shareText=t.text,shareAuthor=t.author,window.history.replaceState("","",baseURL+"?id="+t.id)}},e.send()},delay)},delay)}),shareFB.addEventListener("click",function(){shareURL=window.location.href,window.open("https://www.facebook.com/sharer/sharer.php?u="+shareURL,"_blank")}),shareTW.addEventListener("click",function(){shareURL=window.location.href;var t=encodeURIComponent(shareText+" -"+shareAuthor+" ("+shareURL+")");window.open("https://twitter.com/intent/tweet?text="+t,"_blank")});